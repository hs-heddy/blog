20170831-IIJ-Technical-NIGHT-vol3.md
-----

### 概要

* 日時 :2017/08/31 (木) 19:00 ~ 21:00
* 会場 :株式会社インターネットイニシアティブ（IIJ） 本社13階 IIJグループセミナールーム
* https://atnd.org/events/90140

-----

### Session1：年間1000万件のアラートを自動処理してみた
* 講演者：福原 亮（サービス基盤本部 サービス運用企画部 M&Oサービス開発課）

#### 自動アラート処理機構
* 時間の整理：本稼働前のシステム・メンテナンス時間のアラートは排除する
* 重複の排除：たとえばDBのエラーが発生したとしてDBが無いことで連鎖発生するエラーはまとめる

#### 旧来の手順書
* とある一ヶ月で使われた手順書の種類は160種類、そのうち上位10種類が利用回数の60%(1位は19%)
* ログイン手順や連絡先のメンテナンスが困難

#### 多彩なアラート取得方式
* 通常のアラート受信システムだけでは無く、メール解析のシステムも用意(特にメンテナンス情報の取得に有効)

#### フィルタリングのコア機能
* ホワイトリスト→5分ごとにまとめる→メンテ時間等不必要なアラートを除去
* 手順書はここでHTMLで作成(動的に変わる物はDBにおける)

#### アラート転送
* 大量のアラートが発生したらノード単位でまとめて自動メールする
* お客さんのシステム(とIIJのシステム)を守るため、アラートの処理数に上限をつける

#### チケット発行、メール発報
* 同一案件に対して大量のチケット・メールが発行されないように気をつける

-----

### Session2：監視サービスにアラート対応自動化を組み込んでみた
* 講演者：柳井 浩平（サービス基盤本部 サービス運用企画部 M&Oサービス開発課）

#### プロセスを自動復旧(手順書を自動化しよう)
* アラートを受けたらスクリプトでログインし復旧させてしまう
* 発行されたチケット・メールにはスクリプトの結果をつける
* 正常終了なら完全自動化

#### 統合運用管理システム
* チケット処理にスクリプトを使えるようにしてある(事前にテンプレートを登録するし、別に登録したログイン情報を合わせ1クリックで復旧できる)
